<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Keep previous head content -->
    <style>
        /* ✅ Fix camera feed visibility */
        a-scene {
            width: 100vw;
            height: 100vh;
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 0;
        }

        /* ✅ Make numbers more visible */
        a-text {
            opacity: 0.9;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
    </style>
</head>
<body>
    <!-- Previous body content remains -->
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const scene = document.querySelector('a-scene');
        const numbersContainer = document.getElementById('numbers-container');
        const loading = document.getElementById('loading');

        // ✅ Proper AR initialization
        scene.addEventListener('arjs-initialized', () => {
            // Create numbers
            const totalNumbers = 30;
            const baseZ = -3;
            
            for(let i = 0; i < totalNumbers; i++) {
                const number = document.createElement('a-text');
                number.setAttribute('value', i+1);
                number.setAttribute('position', {
                    x: (Math.random() - 0.5) * 5,
                    y: (Math.random() - 0.5) * 3,
                    z: baseZ + (Math.random() * 2)
                });
                number.setAttribute('color', `hsl(${(i/totalNumbers)*360}, 100%, 50%)`);
                number.setAttribute('scale', '0.5 0.5 0.5');
                number.setAttribute('look-at', '[camera]');
                
                // ✅ Better animation
                number.setAttribute('animation', {
                    property: 'position',
                    to: `${(Math.random() - 0.5) * 5} ${(Math.random() - 0.5) * 3} ${baseZ + (Math.random() * 2)}`,
                    dur: 3000 + Math.random() * 3000,
                    easing: 'easeInOutQuad',
                    loop: true
                });

                numbersContainer.appendChild(number);
            }
            
            loading.style.display = 'none';
        });

        // ✅ Error handling
        scene.addEventListener('arjs-error', (error) => {
            loading.innerHTML = `AR Error: ${error.detail.error}<br>Refresh the page`;
        });
    });
    </script>
</body>
</html>
